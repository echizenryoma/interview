## GFS

### 体系结构

![](https://upload.wikimedia.org/wikipedia/commons/c/c3/GoogleFileSystemGFS.svg)

### 角色

* `Client`提供应用程序的访问接口，以库文件的形式提供
* `Master`是GFS的管理节点。在逻辑层面只有一个，保存整个系统的元数据。负责整个系统的文件管理
* `Chunk Server`负责存储工作。数据主要以文件的形式存储在数据块服务器上

### 机制

1. `GFS`将文件划分为大小为64M数据块(`Chunk`)，每一个数据块都有唯一的索引号
2. 客户端首先访问管理节点，获取交互的数据块服务器信息，然后访问这些数据块服务器，完成数据存取工作。这种设计方法实现了控制流和数据流的分离
3. 客户端和管理节点之间只有控制流，而无数据流，极大地降低了Master的负载。
客户端与数据块服务器之间直接传输数据流，同时由于文件被分成多个数据块进行分布式存储，客户端可以同时访问多个数据块服务器，从而使得整个系统的输入输出高度并行化，系统整体性能得到提高。
